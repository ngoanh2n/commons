/**
 * @author Ho Huu Ngoan (ngoanh2n@gmail.com)
 * Allure Gradle Plugin: https://github.com/allure-framework/allure-gradle
 */
buildscript {
    repositories {
        mavenCentral()
        maven { url "https://plugins.gradle.org/m2/" }
    }
    dependencies {}
    apply from: "gradle/versions.gradle"
}

plugins {
    id("java")
    id("idea")
    id("signing")
    id("java-library")
    id("maven-publish")
}

group("com.github.ngoanh2n")
version("2.14.1")
description("Utilities of com.github.ngoanh2n")

apply from: "gradle/test.gradle"
apply from: "gradle/compilation.gradle"
apply from: "gradle/publication.gradle"
apply from: "gradle/dependencies.gradle"

repositories {
    mavenCentral()
    maven { url "https://plugins.gradle.org/m2/" }
}

reporting {
    setBaseDir(layout.buildDirectory.dir("reports"))
}

clean.doFirst {
    delete project.file("out")
}

tasks.build.configure {
    dependsOn.removeIf { task -> (task == "check") }
    assemble.dependsOn("clean")
    dependsOn("publishToMavenLocal")
}
